(function(root,factory){if(typeof define==='function'&&define.amd){define('smoothScroll',factory(root));}else if(typeof exports==='object'){module.exports=factory(root);}else{root.smoothScroll=factory(root);}})(window||this,function(root){'use strict';
var smoothScroll={}; var supports=!!document.querySelector&&!!root.addEventListener; var settings,eventTimeout,fixedHeader; var defaults={speed:500,easing:'easeInOutCubic',offset:0,updateURL:true,callbackBefore:function(){},callbackAfter:function(){}};
var forEach=function(collection,callback,scope){if(Object.prototype.toString.call(collection)==='[object Object]'){for(var prop in collection){if(Object.prototype.hasOwnProperty.call(collection,prop)){callback.call(scope,collection[prop],prop,collection);}}}else{for(var i=0,len=collection.length;i<len;i++){callback.call(scope,collection[i],i,collection);}}};var extend=function(defaults,options){var extended={};forEach(defaults,function(value,prop){extended[prop]=defaults[prop];});forEach(options,function(value,prop){extended[prop]=options[prop];});return extended;};var getClosest=function(elem,selector){var firstChar=selector.charAt(0);for(;elem&&elem!==document;elem=elem.parentNode){if(firstChar==='.'){if(elem.classList.contains(selector.substr(1))){return elem;}}else if(firstChar==='#'){if(elem.id===selector.substr(1)){return elem;}}else if(firstChar==='['){if(elem.hasAttribute(selector.substr(1,selector.length-2))){return elem;}}}
return false;};var getHeight=function(elem){return Math.max(elem.scrollHeight,elem.offsetHeight,elem.clientHeight);};var escapeCharacters=function(id){var string=String(id);var length=string.length;var index=-1;var codeUnit;var result='';var firstCodeUnit=string.charCodeAt(0);while(++index<length){codeUnit=string.charCodeAt(index);

if(codeUnit===0x0000){throw new InvalidCharacterError('Invalid character: the input contains U+0000.');}
if(
(codeUnit>=0x0001&&codeUnit<=0x001F)||codeUnit==0x007F||
(index===0&&codeUnit>=0x0030&&codeUnit<=0x0039)||
(index===1&&codeUnit>=0x0030&&codeUnit<=0x0039&&firstCodeUnit===0x002D)){ result+='\\'+codeUnit.toString(16)+' ';continue;}



if(codeUnit>=0x0080||codeUnit===0x002D||codeUnit===0x005F||codeUnit>=0x0030&&codeUnit<=0x0039||codeUnit>=0x0041&&codeUnit<=0x005A||codeUnit>=0x0061&&codeUnit<=0x007A){ result+=string.charAt(index);continue;} 
result+='\\'+string.charAt(index);}
return result;};var easingPattern=function(type,time){var pattern;if(type==='easeInQuad')pattern=time*time; if(type==='easeOutQuad')pattern=time*(2-time); if(type==='easeInOutQuad')pattern=time<0.5?2*time*time:-1+(4-2*time)*time; if(type==='easeInCubic')pattern=time*time*time; if(type==='easeOutCubic')pattern=(--time)*time*time+1; if(type==='easeInOutCubic')pattern=time<0.5?4*time*time*time:(time-1)*(2*time-2)*(2*time-2)+1; if(type==='easeInQuart')pattern=time*time*time*time; if(type==='easeOutQuart')pattern=1-(--time)*time*time*time; if(type==='easeInOutQuart')pattern=time<0.5?8*time*time*time*time:1-8*(--time)*time*time*time; if(type==='easeInQuint')pattern=time*time*time*time*time; if(type==='easeOutQuint')pattern=1+(--time)*time*time*time*time; if(type==='easeInOutQuint')pattern=time<0.5?16*time*time*time*time*time:1+16*(--time)*time*time*time*time; return pattern||time;};var getEndLocation=function(anchor,headerHeight,offset){var location=0;if(anchor.offsetParent){do{location+=anchor.offsetTop;anchor=anchor.offsetParent;}while(anchor);}
location=location-headerHeight-offset;return location>=0?location:0;};var getDocumentHeight=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);};var getDataOptions=function(options){return!options||!(typeof JSON==='object'&&typeof JSON.parse==='function')?{}:JSON.parse(options);};var updateUrl=function(anchor,url){if(history.pushState&&(url||url==='true')){history.pushState(null,null,[root.location.protocol,'//',root.location.host,root.location.pathname,root.location.search,anchor].join(''));}};smoothScroll.animateScroll=function(toggle,anchor,options){ var settings=extend(settings||defaults,options||{}); var overrides=getDataOptions(toggle?toggle.getAttribute('data-options'):null);settings=extend(settings,overrides);anchor='#'+escapeCharacters(anchor.substr(1));
 var anchorElem=anchor==='#'?document.documentElement:document.querySelector(anchor);var startLocation=root.pageYOffset; if(!fixedHeader){fixedHeader=document.querySelector('[data-scroll-header]');} 
var headerHeight=fixedHeader===null?0:(getHeight(fixedHeader)+fixedHeader.offsetTop); var endLocation=getEndLocation(anchorElem,headerHeight,parseInt(settings.offset,10)); var animationInterval; var distance=endLocation-startLocation; var documentHeight=getDocumentHeight();var timeLapsed=0;var percentage,position; updateUrl(anchor,settings.updateURL);var stopAnimateScroll=function(position,endLocation,animationInterval){var currentLocation=root.pageYOffset;if(position==endLocation||currentLocation==endLocation||((root.innerHeight+currentLocation)>=documentHeight)){clearInterval(animationInterval);anchorElem.focus();settings.callbackAfter(toggle,anchor);}};var loopAnimateScroll=function(){timeLapsed+=16;percentage=(timeLapsed/parseInt(settings.speed,10));percentage=(percentage>1)?1:percentage;position=startLocation+(distance*easingPattern(settings.easing,percentage));root.scrollTo(0,Math.floor(position));stopAnimateScroll(position,endLocation,animationInterval);};var startAnimateScroll=function(){settings.callbackBefore(toggle,anchor); animationInterval=setInterval(loopAnimateScroll,16);};if(root.pageYOffset===0){root.scrollTo(0,0);} 
startAnimateScroll();};var eventHandler=function(event){var toggle=getClosest(event.target,'[data-scroll]');if(toggle&&toggle.tagName.toLowerCase()==='a'){event.preventDefault(); smoothScroll.animateScroll(toggle,toggle.hash,settings);}};var eventThrottler=function(event){if(!eventTimeout){eventTimeout=setTimeout(function(){eventTimeout=null; headerHeight=fixedHeader===null?0:(getHeight(fixedHeader)+fixedHeader.offsetTop);},66);}};smoothScroll.destroy=function(){ if(!settings)return; document.removeEventListener('click',eventHandler,false);root.removeEventListener('resize',eventThrottler,false); settings=null;eventTimeout=null;fixedHeader=null;};smoothScroll.init=function(options){ if(!supports)return; smoothScroll.destroy(); settings=extend(defaults,options||{}); fixedHeader=document.querySelector('[data-scroll-header]');
 document.addEventListener('click',eventHandler,false);if(fixedHeader){root.addEventListener('resize',eventThrottler,false);}};
return smoothScroll;});﻿(function($){'use strict';var pluginName='ScrollIt',pluginVersion='1.0.3';var defaults={upKey:38,downKey:40,easing:'linear',scrollTime:600,activeClass:'active',onPageChange:null,topOffset:0};$.scrollIt=function(options){var settings=$.extend(defaults,options),active=0,lastIndex=$('[data-scroll-index]:last').attr('data-scroll-index');var navigate=function(ndx){if(ndx<0||ndx>lastIndex)return;var targetTop=$('[data-scroll-index='+ndx+']').offset().top+settings.topOffset+1;$('html,body').animate({scrollTop:targetTop,easing:settings.easing},settings.scrollTime);};var doScroll=function(e){var target=$(e.target).closest("[data-scroll-nav]").attr('data-scroll-nav')||$(e.target).closest("[data-scroll-goto]").attr('data-scroll-goto');navigate(parseInt(target));};var keyNavigation=function(e){var key=e.which;if($('html,body').is(':animated')&&(key==settings.upKey||key==settings.downKey)){return false;}
if(key==settings.upKey&&active>0){navigate(parseInt(active)-1);return false;}else if(key==settings.downKey&&active<lastIndex){navigate(parseInt(active)+1);return false;}
return true;};var updateActive=function(ndx){if(settings.onPageChange&&ndx&&(active!=ndx))settings.onPageChange(ndx);active=ndx;$('[data-scroll-nav]').removeClass(settings.activeClass);$('[data-scroll-nav='+ndx+']').addClass(settings.activeClass);};var watchActive=function(){var winTop=$(window).scrollTop();var visible=$('[data-scroll-index]').filter(function(ndx,div){return winTop>=$(div).offset().top+settings.topOffset&&winTop<$(div).offset().top+(settings.topOffset)+$(div).outerHeight()});var newActive=visible.first().attr('data-scroll-index');updateActive(newActive);};$(window).on('scroll',watchActive).scroll();$(window).on('keydown',keyNavigation);$('body').on('click','[data-scroll-nav], [data-scroll-goto]',function(e){e.preventDefault();doScroll(e);});};}(jQuery));var $buoop={c:2};function $buo_f(){var e=document.createElement("script");e.src="//browser-update.org/update.js";document.body.appendChild(e);};try{document.addEventListener("DOMContentLoaded",$buo_f,false)}
catch(e){window.attachEvent("onload",$buo_f)}
WebFontConfig={google:{families:['PT+Serif:400italic:latin']}};(function(){var wf=document.createElement('script');wf.src=('https:'==document.location.protocol?'https':'http')+'://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';wf.type='text/javascript';wf.async='true';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(wf,s);})();$(function(){var $nav=$('#navigation'),$nav2=$('#inner-navigation'),nav2waiting=true,$section=$('#menus'),$contact=$('#contact'),$address=$contact.find('.address-link'),prefix=0,$allVideos=$('iframe[src^="//player.vimeo.com"], iframe[src^="//www.youtube.com"], object, embed'),clearVideosDimensions=function(){$allVideos.each(function(i,e){$(e).attr('data-aspectRatio',e.height/e.width).removeAttr('height').removeAttr('width');});},makeVideosFluidOnResize=function(){var $fluidEl=$('figure.video'),newWidth=$fluidEl.width();$allVideos.each(function(i,e){$(e).width(newWidth).height(newWidth*$(e).attr('data-aspectRatio'));});};clearVideosDimensions();$(window).resize(function(){makeVideosFluidOnResize();});window.setTimeout(function(){$(window).resize();},100);smoothScroll.init({'updateURL':false,'offset':50});$.scrollIt({'topOffset':-50});$address.hover(function(){$contact.find('.icon-location-on').addClass('active');},function(){$contact.find('.icon-location-on').removeClass('active');});if($nav.length&&$nav.is(':visible')){$(window).on('touchmove scroll',function(){prefix=$nav.hasClass('active')?50:100;if($(window).scrollTop()+prefix>$section.position().top){$nav.addClass('active');$section.addClass('active');}else{$nav.removeClass('active');$section.removeClass('active');}});}
$('#menus').find('.menu').on('mouseover',function(){$('#menus').removeClass('bg-1 bg-2 bg-3 bg-4').addClass($(this).attr('id'));});if(document.referrer.indexOf('madame')>=0&&document.referrer.indexOf('hanoi')>=0){$('#back-to-home').on('click',function(e){e.preventDefault();history.back();});}
$(window).on('scroll',$.debounce(5000,function(){$nav2.addClass('hidden');}));$(window).on('scroll',function(){$nav2.removeClass('hidden');});var $more=$('#more'),$toTop=$('#to-top');$(document).on('scroll',function(){$(window).scrollTop()>=200?$more.addClass('hidden'):$more.removeClass('hidden');$(window).scrollTop()>=$(window).height()-50?$toTop.addClass('active'):$toTop.removeClass('active');});});﻿(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);﻿if('undefined'!=typeof jQuery)
{(function($){$.imgpreload=function(imgs,settings)
{settings=$.extend({},$.fn.imgpreload.defaults,(settings instanceof Function)?{all:settings}:settings);
 if('string'==typeof imgs){imgs=new Array(imgs);}
var loaded=new Array();var index=0;$.each(imgs,function(i,elem)
{var img=new Image();var url=elem;var img_obj=img;if('string'!=typeof elem)
{url=$(elem).attr('src')||$(elem).css('background-image').replace(/^url\((?:"|')?(.*)(?:'|")?\)$/mg,'$1');img_obj=elem;}
$(img).bind('load error',function(e)
{loaded.push(img_obj);$.data(img_obj,'loaded',('error'==e.type)?false:true);if(settings.each instanceof Function){var percentage=((index+1)*100/imgs.length).toFixed(2);settings.each.call(img_obj,percentage,index);index++;} 
if(loaded.length>=imgs.length&&settings.all instanceof Function){settings.all.call(loaded);}
$(this).unbind('load error');});img.src=url;});};$.fn.imgpreload=function(settings)
{$.imgpreload(this,settings);return this;};$.fn.imgpreload.defaults={each:null
,all:null
};})(jQuery);}